<?php
 
 
$API_URL = 'https://api.line.me/v2/bot/message/reply';
$ACCESS_TOKEN = 'q3z1jYmFhn2A2Ee2fGiAdRLaP5PEbqvRtuFaYm/leVoFJ1JtZggY0xuMTjDMLsjj96Foc0dZY+l977JRm9ysL2vc/DjWrMqn7nz33FLPTI8oC5MaWBv6ODbMEP9oG3L/8O6KRekJxX1mSKqwlzF9cgdB04t89/1O/w1cDnyilFU='; // Access Token ค่าที่เราสร้างขึ้น
$POST_HEADER = array('Content-Type: application/json', 'Authorization: Bearer ' . $ACCESS_TOKEN);

$request = file_get_contents('php://input');   // Get request content
$request_array = json_decode($request, true);   // Decode JSON to Array

if ( sizeof($request_array['events']) > 0 )
{

 foreach ($request_array['events'] as $event)
 {
  $reply_message = '';
  $reply_token = $event['replyToken'];

  if ( $event['type'] == 'message' ) 
  {
   if( $event['message']['type'] == 'text' )
   {
    $text = $event['message']['text'];
    $reply_message = 'ระบบ  ('.$text.') ของs ';
   }
   else
    $reply_message = 'ระบบได้รับaa '.ucfirst($event['message']['type']).' ของคุณแล้ว';
  
  }
  else
   $reply_message = 'ระบบได้รับ Event '.ucfirst($event['type']).' ของคุณแล้ว';
 
  if( strlen($reply_message) > 0 )
  {
   //$reply_message = iconv("tis-620","utf-8",$reply_message);
   
      
   $data = [
    'replyToken' => $reply_token, 
     'messages' => [['type' => 'image', 'originalContentUrl' =>'https://www.chomsurang.ac.th/chomlearning/head.png',
                    'previewImageUrl' =>'data:image/jpeg;base64,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' ]]
   ];
    
       
     
   
    $post_body = json_encode($data, JSON_UNESCAPED_UNICODE);
 

   $send_result = send_reply_message($API_URL, $POST_HEADER, $post_body);
   echo "Result: ".$send_result."\r\n";
  }
 }
}

echo "OK";

function send_reply_message($url, $post_header, $post_body)
{
 $ch = curl_init($url);
 curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "POST");
 curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
 curl_setopt($ch, CURLOPT_HTTPHEADER, $post_header);
 curl_setopt($ch, CURLOPT_POSTFIELDS, $post_body);
 curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);
 $result = curl_exec($ch);
 curl_close($ch);

 return $result;
}

?>
*/ 
